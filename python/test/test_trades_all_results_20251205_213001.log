Fatal error on SSL transport
protocol: <asyncio.sslproto.SSLProtocol object at 0x1042ce560>
transport: <_SelectorSocketTransport closing fd=7>
Traceback (most recent call last):
  File "/opt/anaconda3/envs/sequence/lib/python3.10/asyncio/selector_events.py", line 924, in write
    n = self._sock.send(data)
OSError: [Errno 9] Bad file descriptor

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/opt/anaconda3/envs/sequence/lib/python3.10/asyncio/sslproto.py", line 690, in _process_write_backlog
    self._transport.write(chunk)
  File "/opt/anaconda3/envs/sequence/lib/python3.10/asyncio/selector_events.py", line 930, in write
    self._fatal_error(exc, 'Fatal write error on socket transport')
  File "/opt/anaconda3/envs/sequence/lib/python3.10/asyncio/selector_events.py", line 725, in _fatal_error
    self._force_close(exc)
  File "/opt/anaconda3/envs/sequence/lib/python3.10/asyncio/selector_events.py", line 737, in _force_close
    self._loop.call_soon(self._call_connection_lost, exc)
  File "/opt/anaconda3/envs/sequence/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
    self._check_closed()
  File "/opt/anaconda3/envs/sequence/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
    raise RuntimeError('Event loop is closed')
RuntimeError: Event loop is closed


ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€
OKX WebSocket Trades-All é¢‘é“æµ‹è¯•
ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€

================================================================================
ğŸ“‹ æµ‹è¯•1: Trades-Allé¢‘é“ WebSocketç›´æ¥æµ‹è¯•
================================================================================

ğŸ“ æµ‹è¯•1.1: åˆ›å»ºWebSocketå®¢æˆ·ç«¯ï¼ˆbusinessç«¯ç‚¹ï¼‰...

ğŸ“ æµ‹è¯•1.2: å»ºç«‹è¿æ¥...
âœ… WebSocketè¿æ¥æˆåŠŸ: wss://wspap.okx.com:8443/ws/v5/business

ğŸ“ æµ‹è¯•1.3: è®¢é˜…BTC-USDTå…¨éƒ¨äº¤æ˜“æ•°æ®...
ğŸ“¤ å‘é€è®¢é˜…è¯·æ±‚: [{'channel': 'trades-all', 'instId': 'BTC-USDT'}]

â³ ç­‰å¾…30ç§’æ¥æ”¶äº¤æ˜“æ•°æ®...
âœ… è®¢é˜…æˆåŠŸ: {'channel': 'trades-all', 'instId': 'BTC-USDT'}

ğŸ’° äº¤æ˜“ #1:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143192
   ä»·æ ¼: 90831
   æ•°é‡: 0.01291997
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941408974

ğŸ’° äº¤æ˜“ #2:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143193
   ä»·æ ¼: 90835.5
   æ•°é‡: 0.00003584
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941409142

ğŸ’° äº¤æ˜“ #3:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143194
   ä»·æ ¼: 90836.7
   æ•°é‡: 0.00044926
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941410039

ğŸ’° äº¤æ˜“ #4:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143195
   ä»·æ ¼: 90837.1
   æ•°é‡: 0.00044926
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941410039

ğŸ’° äº¤æ˜“ #5:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143196
   ä»·æ ¼: 90837.5
   æ•°é‡: 0.00020235
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941410039

ğŸ’° äº¤æ˜“ #6:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143197
   ä»·æ ¼: 90841.8
   æ•°é‡: 0.00003584
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941410142

ğŸ’° äº¤æ˜“ #7:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143198
   ä»·æ ¼: 90842.6
   æ•°é‡: 0.00021104
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941410142

ğŸ’° äº¤æ˜“ #8:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143199
   ä»·æ ¼: 90842.6
   æ•°é‡: 0.04591113
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941410142

ğŸ’° äº¤æ˜“ #9:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143200
   ä»·æ ¼: 90843
   æ•°é‡: 0.00001859
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941410142

ğŸ’° äº¤æ˜“ #10:
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143201
   ä»·æ ¼: 90843.1
   æ•°é‡: 0.00010073
   æ–¹å‘: buy
   æ¥æº: æ™®é€šè®¢å•
   æ—¶é—´: 1764941410142
âŒ å¿ƒè·³é”™è¯¯: 'ClientConnection' object has no attribute 'closed'

âœ… å…±æ”¶åˆ° 272 ç¬”äº¤æ˜“

ğŸ“Š æ•°æ®ç»Ÿè®¡:
   ä¹°å…¥: 251 ç¬” (92.3%)
   å–å‡º: 21 ç¬” (7.7%)

ğŸ“ æµ‹è¯•1.4: å–æ¶ˆè®¢é˜…...
ğŸ“¤ å‘é€å–æ¶ˆè®¢é˜…è¯·æ±‚: [{'channel': 'trades-all', 'instId': 'BTC-USDT'}]
âœ… å–æ¶ˆè®¢é˜…æˆåŠŸ: {'channel': 'trades-all', 'instId': 'BTC-USDT'}

ğŸ“ æµ‹è¯•1.5: æ–­å¼€è¿æ¥...
ğŸ“¥ æ¥æ”¶æ¶ˆæ¯ä»»åŠ¡å·²å–æ¶ˆ
âœ… WebSocketè¿æ¥å·²å…³é—­

================================================================================
ğŸ“‹ æµ‹è¯•2: Trades-Allé€‚é…å™¨é›†æˆæµ‹è¯•
================================================================================

ğŸ“ æµ‹è¯•2.1: åˆ›å»ºEventEngineå’Œé€‚é…å™¨...

ğŸ“ æµ‹è¯•2.2: å¯åŠ¨é€‚é…å™¨...
ğŸš€ å¯åŠ¨OKXè¡Œæƒ…æ•°æ®é€‚é…å™¨...
âœ… WebSocketè¿æ¥æˆåŠŸ: wss://wspap.okx.com:8443/ws/v5/public
âœ… OKXè¡Œæƒ…æ•°æ®é€‚é…å™¨å¯åŠ¨æˆåŠŸ

ğŸ“ æµ‹è¯•2.3: è®¢é˜…å…¨éƒ¨äº¤æ˜“æ•°æ®...
âœ… WebSocketè¿æ¥æˆåŠŸ: wss://wspap.okx.com:8443/ws/v5/business
ğŸ“¤ å‘é€è®¢é˜…è¯·æ±‚: [{'channel': 'trades-all', 'instId': 'BTC-USDT'}]
âœ… è®¢é˜…å…¨éƒ¨äº¤æ˜“æ•°æ®: BTC-USDT

â³ ç­‰å¾…30ç§’æ¥æ”¶TradeDataäº‹ä»¶...
âœ… è®¢é˜…æˆåŠŸ: {'channel': 'trades-all', 'instId': 'BTC-USDT'}

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #1:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143465
   ä»·æ ¼: 90807.6
   æ•°é‡: 0.0004493
   æ–¹å‘: å–å‡º

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #2:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143466
   ä»·æ ¼: 90801.1
   æ•°é‡: 0.0011645
   æ–¹å‘: ä¹°å…¥

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #3:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143467
   ä»·æ ¼: 90802.0
   æ•°é‡: 0.0011645
   æ–¹å‘: ä¹°å…¥

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #4:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143468
   ä»·æ ¼: 90803.0
   æ•°é‡: 0.00868117
   æ–¹å‘: ä¹°å…¥

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #5:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143469
   ä»·æ ¼: 90802.0
   æ•°é‡: 0.0011645
   æ–¹å‘: ä¹°å…¥

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #6:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143470
   ä»·æ ¼: 90804.0
   æ•°é‡: 0.0431
   æ–¹å‘: ä¹°å…¥

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #7:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143471
   ä»·æ ¼: 90806.0
   æ•°é‡: 0.00163289
   æ–¹å‘: ä¹°å…¥

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #8:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143472
   ä»·æ ¼: 90807.0
   æ•°é‡: 0.0431
   æ–¹å‘: ä¹°å…¥

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #9:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143473
   ä»·æ ¼: 90808.7
   æ•°é‡: 0.0004493
   æ–¹å‘: ä¹°å…¥

ğŸ’° æ”¶åˆ°TradeDataäº‹ä»¶ #10:
   äº¤æ˜“æ‰€: OKX
   äº§å“: BTC-USDT
   äº¤æ˜“ID: 1110143474
   ä»·æ ¼: 90809.1
   æ•°é‡: 0.00044931
   æ–¹å‘: ä¹°å…¥
âŒ å¿ƒè·³é”™è¯¯: 'ClientConnection' object has no attribute 'closed'
âŒ å¿ƒè·³é”™è¯¯: 'ClientConnection' object has no attribute 'closed'

âœ… EventEngineå…±åˆ†å‘ 86 ä¸ªTradeDataäº‹ä»¶

ğŸ“Š äº¤æ˜“ç»Ÿè®¡:
   ä¹°å…¥: 49 ç¬” (57.0%)
   å–å‡º: 37 ç¬” (43.0%)

ğŸ“ æµ‹è¯•2.4: åœæ­¢é€‚é…å™¨...
ğŸ›‘ åœæ­¢OKXè¡Œæƒ…æ•°æ®é€‚é…å™¨...
ğŸ“¥ æ¥æ”¶æ¶ˆæ¯ä»»åŠ¡å·²å–æ¶ˆ
âœ… WebSocketè¿æ¥å·²å…³é—­
âœ… OKXè¡Œæƒ…æ•°æ®é€‚é…å™¨å·²åœæ­¢

================================================================================
ğŸ“‹ æµ‹è¯•3: Trades vs Trades-All å¯¹æ¯”æµ‹è¯•
================================================================================

ğŸ“ æµ‹è¯•3.1: åˆ›å»ºEventEngineå’Œé€‚é…å™¨...
ğŸš€ å¯åŠ¨OKXè¡Œæƒ…æ•°æ®é€‚é…å™¨...
âœ… WebSocketè¿æ¥æˆåŠŸ: wss://wspap.okx.com:8443/ws/v5/public
âœ… OKXè¡Œæƒ…æ•°æ®é€‚é…å™¨å¯åŠ¨æˆåŠŸ

ğŸ“ æµ‹è¯•3.2: åŒæ—¶è®¢é˜…tradeså’Œtrades-all...
âœ… WebSocketè¿æ¥æˆåŠŸ: wss://wspap.okx.com:8443/ws/v5/business
ğŸ“¤ å‘é€è®¢é˜…è¯·æ±‚: [{'channel': 'trades-all', 'instId': 'BTC-USDT'}]
âœ… è®¢é˜…å…¨éƒ¨äº¤æ˜“æ•°æ®: BTC-USDT

â³ ç­‰å¾…20ç§’...
âœ… è®¢é˜…æˆåŠŸ: {'channel': 'trades-all', 'instId': 'BTC-USDT'}
   [trades-all] #1: buy 1e-05 @ 90819.0
   [trades-all] #2: buy 0.0431 @ 90821.0
   [trades-all] #3: buy 5.506e-05 @ 90823.7

ğŸ“Š å¯¹æ¯”ç»“æœ:
   trades-all: 50 ç¬”

ğŸ’¡ è¯´æ˜:
   - trades: èšåˆæ¨é€ï¼Œå¯èƒ½åŒ…å«å¤šæ¡æˆäº¤
   - trades-all: æ¯æ¬¡ä»…ä¸€æ¡æˆäº¤è®°å½•
ğŸ›‘ åœæ­¢OKXè¡Œæƒ…æ•°æ®é€‚é…å™¨...
ğŸ“¥ æ¥æ”¶æ¶ˆæ¯ä»»åŠ¡å·²å–æ¶ˆ
ğŸ’“ å¿ƒè·³ä»»åŠ¡å·²å–æ¶ˆ
âœ… WebSocketè¿æ¥å·²å…³é—­
âœ… OKXè¡Œæƒ…æ•°æ®é€‚é…å™¨å·²åœæ­¢

================================================================================
ğŸ“‹ ğŸ“Š æµ‹è¯•ç»“æœæ±‡æ€»
================================================================================

æµ‹è¯•ç»“æœ:
   Trades-All WebSocketç›´æ¥æµ‹è¯•            : âœ… é€šè¿‡
   Trades-Allé€‚é…å™¨é›†æˆæµ‹è¯•                   : âœ… é€šè¿‡
   Tradeså¯¹æ¯”æµ‹è¯•                          : âœ… é€šè¿‡

æ€»è®¡: 3/3 ä¸ªæµ‹è¯•é€šè¿‡

ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼

================================================================================
ğŸ’“ å¿ƒè·³ä»»åŠ¡å·²å–æ¶ˆ
ğŸ“¥ æ¥æ”¶æ¶ˆæ¯ä»»åŠ¡å·²å–æ¶ˆ
ğŸ“¥ æ¥æ”¶æ¶ˆæ¯ä»»åŠ¡å·²å–æ¶ˆ

