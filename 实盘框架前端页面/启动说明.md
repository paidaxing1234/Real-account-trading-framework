# 实盘交易管理系统前端 - 启动说明

## 📋 系统概述

这是一个基于 Vue 3 + Element Plus 开发的实盘交易管理系统前端，用于管理和监控实盘交易框架（C++）和交易策略（Python）。

## 🚀 快速启动

### 1. 安装依赖

```bash
cd D:\量化\实盘框架前端页面
npm install
```

或使用 pnpm（推荐，更快）：

```bash
pnpm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

系统将在 `http://localhost:3000` 启动

### 3. 访问系统

打开浏览器访问：`http://localhost:3000`

默认会显示仪表板页面，可以看到：
- 总资产统计
- 策略运行状态
- 净值曲线
- 订单信息

## 📦 项目结构

```
实盘框架前端页面/
├── src/
│   ├── api/              # API 接口层
│   │   ├── strategy.js   # 策略接口
│   │   ├── account.js    # 账户接口
│   │   ├── order.js      # 订单接口
│   │   └── mock.js       # Mock 数据服务
│   ├── components/       # 组件
│   │   ├── Strategy/     # 策略管理组件
│   │   ├── Account/      # 账户管理组件
│   │   ├── Order/        # 订单管理组件
│   │   └── Charts/       # 图表组件
│   ├── stores/           # Pinia 状态管理
│   │   ├── strategy.js   # 策略状态
│   │   ├── account.js    # 账户状态
│   │   ├── order.js      # 订单状态
│   │   └── app.js        # 应用状态
│   ├── views/            # 页面视图
│   │   ├── Layout.vue    # 布局页面
│   │   ├── Dashboard.vue # 仪表板
│   │   ├── Strategy.vue  # 策略管理
│   │   ├── Account.vue   # 账户管理
│   │   ├── Orders.vue    # 订单管理
│   │   └── Positions.vue # 持仓管理
│   ├── router/           # 路由配置
│   ├── styles/           # 全局样式
│   ├── utils/            # 工具函数
│   ├── mock/             # 模拟数据
│   ├── App.vue           # 根组件
│   └── main.js           # 入口文件
├── package.json          # 项目配置
├── vite.config.js        # Vite 配置
└── README.md             # 项目文档
```

## 🎯 主要功能

### 1. 策略管理 (`/strategy`)
- ✅ 查看所有策略列表
- ✅ 运行中/待启动/已停止/异常策略分类
- ✅ 启动/停止策略
- ✅ 添加新策略（选择Python文件）
- ✅ 查看策略性能（盈亏、收益率、成交笔数）
- ✅ 删除策略

### 2. 账户管理 (`/account`)
- ✅ 多OKX账户管理
- ✅ 查看账户余额、净值、盈亏
- ✅ 添加新账户（API Key配置）
- ✅ 账户同步
- ✅ 净值曲线图
- ✅ 账户详情展开

### 3. 订单管理 (`/orders`)
- ✅ 订单列表查询
- ✅ 多维度筛选（交易对、状态、类型、方向）
- ✅ 手动下单
- ✅ 取消订单/批量取消
- ✅ 订单详情（包含成交记录）
- ✅ 订单导出

### 4. 持仓管理 (`/positions`)
- ✅ 持仓列表
- ✅ 持仓市值、盈亏统计
- ✅ 持仓分布饼图
- ✅ 盈亏分布柱状图
- ✅ 平仓操作

### 5. 仪表板 (`/dashboard`)
- ✅ 总资产概览
- ✅ 净值曲线图
- ✅ 策略性能排行
- ✅ 运行中策略列表
- ✅ 最近订单

## 🔧 配置说明

### 后端接口配置

编辑 `vite.config.js` 中的 proxy 配置：

```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8000',  // 修改为你的后端地址
      changeOrigin: true,
      rewrite: (path) => path.replace(/^\/api/, '')
    }
  }
}
```

### Mock 数据模式

当前系统使用 Mock 数据进行开发。如需切换到真实后端：

1. 编辑 `src/api/mock.js`，将 `USE_MOCK` 设置为 `false`
2. 确保后端服务已启动

## 🔗 后端接口要求

后端需要提供以下接口（详见 `src/api/` 目录）：

### 策略接口
- `GET /api/strategies` - 获取策略列表
- `POST /api/strategies/:id/start` - 启动策略
- `POST /api/strategies/:id/stop` - 停止策略
- `GET /api/strategies/:id/performance` - 获取策略性能

### 账户接口
- `GET /api/accounts` - 获取账户列表
- `GET /api/accounts/:id/balance` - 获取账户余额
- `GET /api/accounts/:id/equity-curve` - 获取净值曲线
- `POST /api/accounts` - 添加新账户

### 订单接口
- `GET /api/orders` - 获取订单列表
- `POST /api/orders` - 下单
- `POST /api/orders/:id/cancel` - 取消订单
- `GET /api/positions` - 获取持仓列表

## 🎨 界面预览

- **响应式设计**：支持桌面和移动端
- **深色模式**：支持主题切换
- **实时更新**：WebSocket连接状态监控
- **数据可视化**：ECharts图表展示

## 📝 开发建议

### 添加新策略

1. 在策略管理页面点击"添加策略"
2. 填写策略名称、类型
3. 选择交易账户和交易对
4. 配置Python文件路径（需要后端支持）
5. 设置策略参数（JSON格式）

### 添加新账户

1. 在账户管理页面点击"添加账户"
2. 输入账户名称
3. 配置OKX API Key、Secret Key、Passphrase
4. 选择账户类型（统一账户/单币种/多币种）
5. 选择实盘或模拟盘

## ⚠️ 注意事项

1. **API Key安全**：请妥善保管API Key，建议开启IP白名单
2. **风险提示**：手动下单前请仔细核对信息
3. **数据同步**：建议定期同步账户数据
4. **策略监控**：注意监控策略运行状态，及时处理异常

## 🔨 构建生产版本

```bash
npm run build
```

构建产物将输出到 `dist/` 目录

## 📞 技术支持

如遇到问题，请检查：
1. Node.js 版本 >= 16
2. 依赖是否完整安装
3. 后端服务是否正常运行
4. 浏览器控制台错误信息

## 🚀 未来规划

- [ ] WebSocket实时数据推送
- [ ] 策略回测功能
- [ ] 风控管理模块
- [ ] 更多图表分析
- [ ] 移动端App
- [ ] 策略市场

## 📄 License

MIT

