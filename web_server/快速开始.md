# ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

## ç¬¬1æ­¥ï¼šå®‰è£…ä¾èµ–ï¼ˆ1åˆ†é’Ÿï¼‰

```bash
cd web_server
pip install -r requirements.txt
```

## ç¬¬2æ­¥ï¼šé…ç½®ï¼ˆ30ç§’ï¼‰

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
copy .env.example .env

# æˆ–ç›´æ¥ä½¿ç”¨é»˜è®¤é…ç½®ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
```

## ç¬¬3æ­¥ï¼šå¯åŠ¨æœåŠ¡ï¼ˆ30ç§’ï¼‰

### Windows
```bash
start.bat
```

### Linux
```bash
chmod +x start.sh
./start.sh
```

### æˆ–ç›´æ¥è¿è¡Œ
```bash
python start.py
```

## ç¬¬4æ­¥ï¼šæµ‹è¯•è¿æ¥ï¼ˆ1åˆ†é’Ÿï¼‰

### æµè§ˆå™¨æµ‹è¯•
è®¿é—®: http://localhost:8000/docs

### æµ‹è¯•SSEè¿æ¥
```bash
curl -N http://localhost:8000/events/stream
```

åº”è¯¥çœ‹åˆ°ï¼š
```
event: connected
data: {"timestamp": 1702...}
```

### æµ‹è¯•API
```bash
curl http://localhost:8000/health
```

åº”è¯¥è¿”å›ï¼š
```json
{
  "status": "ok",
  "sse_connections": 0
}
```

## ç¬¬5æ­¥ï¼šè¿æ¥å‰ç«¯ï¼ˆ2åˆ†é’Ÿï¼‰

### 1. å¯åŠ¨å‰ç«¯
```bash
cd ../å®ç›˜æ¡†æ¶å‰ç«¯é¡µé¢
npm run dev
```

### 2. è®¿é—®ç³»ç»Ÿ
http://localhost:3000

### 3. ç™»å½•
- è¶…çº§ç®¡ç†å‘˜ï¼š`admin` / `admin123`
- è§‚æ‘©è€…ï¼š`viewer` / `viewer123`

### 4. æŸ¥çœ‹è¿æ¥çŠ¶æ€
å³ä¸Šè§’åº”è¯¥æ˜¾ç¤º ğŸŸ¢ "å·²è¿æ¥"

## âœ… å®Œæˆï¼

ç°åœ¨ä½ æ‹¥æœ‰ï¼š
- âœ… å‰ç«¯Vueåº”ç”¨è¿è¡Œåœ¨ http://localhost:3000
- âœ… åç«¯FastAPIè¿è¡Œåœ¨ http://localhost:8000
- âœ… SSEäº‹ä»¶æµè‡ªåŠ¨è¿æ¥
- âœ… å»¶è¿Ÿ 3-10ms
- âœ… æ‰€æœ‰åŠŸèƒ½å¯ç”¨

## ğŸ§ª æµ‹è¯•SSEæ¨é€

### æµ‹è¯•å®æ—¶æ¨é€

```bash
# æ¨é€æµ‹è¯•è®¢å•äº‹ä»¶
curl -X POST "http://localhost:8000/events/test-push?event_type=order" \
  -H "Content-Type: application/json" \
  -d '{
    "id": 9999,
    "symbol": "BTC-USDT-SWAP",
    "state": "FILLED",
    "timestamp": 1702345678000
  }'
```

**å‰ç«¯åº”è¯¥ç«‹å³æ”¶åˆ°å¹¶æ˜¾ç¤ºï¼** âš¡

## ğŸ“Š æŸ¥çœ‹æ€§èƒ½

### æŸ¥çœ‹SSEè¿æ¥æ•°
```bash
curl http://localhost:8000/metrics
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# å®æ—¶æ—¥å¿—
tail -f logs/app.log
```

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: ç«¯å£è¢«å ç”¨
```bash
# ä¿®æ”¹ç«¯å£
# ç¼–è¾‘ .env æ–‡ä»¶
PORT=8001
```

### Q2: å‰ç«¯è¿æ¥å¤±è´¥
æ£€æŸ¥vite.config.jsçš„proxyé…ç½®æ˜¯å¦æ­£ç¡®

### Q3: SSEè¿æ¥æ–­å¼€
æŸ¥çœ‹ logs/app.log ä¸­çš„é”™è¯¯ä¿¡æ¯

### Q4: ä¾èµ–å®‰è£…å¤±è´¥
```bash
# ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

## ğŸ“ ä¸‹ä¸€æ­¥

- [ ] è¿æ¥ClickHouseæ•°æ®åº“
- [ ] è¿æ¥Redisç¼“å­˜
- [ ] é›†æˆçœŸå®çš„OKXé€‚é…å™¨
- [ ] å®ç°ç­–ç•¥åŠ è½½é€»è¾‘
- [ ] éƒ¨ç½²åˆ°LinuxæœåŠ¡å™¨

---

**å¼€å‘å®Œæˆï¼äº«å—<10msçš„ä½å»¶è¿Ÿå®æ—¶äº¤æ˜“ç³»ç»Ÿå§ï¼** ğŸ‰âš¡

